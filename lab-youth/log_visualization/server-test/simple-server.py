#!/usr/bin/env python
# -*- coding:utf-8 -*-

import argparse
import json
import sys
import pathlib
import urllib

from http.server import BaseHTTPRequestHandler, HTTPServer
from http import HTTPStatus

DATA_JSON='data.json'
ERR_JSON={'status':'none'}

def loadJson(file):
	try:
		with open(file, mode='r', encoding='utf-8') as f:
			text = f.read()
			return json.loads(text)
	except:
		return {}

def saveJson(file, js):
	with open(file, mode='w', encoding='utf-8') as f:
		text = f.write(json.dumps(js))

def getContentType(suffix):
	tbl = {
		'js' : 'text/javascript',
		'html' : 'text/html',
	}
	return tbl.get(suffix[1:], 'text/plain')

def returnFile(self, path):
	contentType = getContentType(path.suffix)
	print('returnFile name=%s contentType=%s' % (path.name, contentType))
	try:
		with open(path.name, mode='r', encoding='utf-8') as f:
			text = f.read()
	except:
		text = 'open err'

	self.send_response(200)
	self.send_header('Content-type', '%s; charset=utf-8' % contentType)
	self.send_header('Content-Length', str(len(text)))
	self.end_headers()
	self.wfile.write(text.encode('utf-8'))

def returnJson(self, res):
	self.send_response(200)
	self.send_header('Content-type', 'application/json')
	self.end_headers()
	text = json.dumps(res)
	self.wfile.write(text.encode('utf-8'))

class MyHandler(BaseHTTPRequestHandler):
	def do_GET(self):
		pr = urllib.parse.urlparse(self.path)
		if pr.query:
			qs = urllib.parse.parse_qs(pr.query)
			key = qs.get('get', [''])[0]
			if key:
				js = loadJson(DATA_JSON)
				returnJson(self, js.get(key, {}))
			else:
				returnJson(self, {})
		else:
			path = pathlib.Path(pr.path)
			returnFile(self, path)

	def do_POST(self):
		pr = urllib.parse.urlparse(self.path)
		print('PR', pr)
		content_len=int(self.headers.get('content-length'))
		text = self.rfile.read(content_len)
		print('TEXT', text)
		inJson = json.loads(text.decode('utf-8'))
		print(inJson)
		date=0
		if 'date' in inJson:
			date=inJson['date']
		print(date)
		op = pr.path[1:]
		js = {}
		table=[{"pos":[[8.0, 38.0], [46.0, 105.0], [20.0, 77.0], [21.0333, 105.85], [47.9167, 106.9167], [19.8833, 75.3333], [13.75, 100.4667], [30.3229, 78.0317], [-6.9039, 107.6186], [-6.1744, 106.8294], [-6.1744, 106.8294], [13.7, 100.4667], [16.0678, 108.2208], [28.6, 77.2], [10.95, 106.8167], [16.0678, 108.2208], [39.9289, 116.3883], [33.9777, -118.4351], [37.0645, -113.5746], [37.3934, -120.8945], [42.2027, -71.6813], [40.61, -73.9108], [33.5242, -82.0926], [40.7694, -73.9609], [30.6667, 104.0667], [31.4888, 74.3686], [-7.6064, 110.6794], [48.8582, 2.3387000000000002], [47.6145, -122.348], [47.6145, -122.348], [47.6145, -122.348], [47.6145, -122.348], [50.1153, 8.6823], [50.1153, 8.6823], [51.5142, -0.0931], [42.0166, -71.2231], [50.1153, 8.6823], [40.7904, -74.0246], [34.0408, -84.1665], [60.1756, 24.9342], [30.1438, -81.5401], [28.6667, 77.2167], [-22.9095, -47.0674], [36.0986, 120.3719], [39.9289, 116.3883], [52.3529, 4.9415], [42.8864, -78.8781], [53.3472, -6.2439], [29.9668, -95.3454], [37.3387, -121.8914], [47.0188, 28.8128], [50.1153, 8.6823], [52.3529, 4.9415], [40.7584, -73.9794], [41.078, -74.1764], [39.3555, -76.6355], [37.3501, -121.9854], [16.0678, 108.2208], [16.0678, 108.2208], [28.6667, 77.2167], [51.5142, -0.0931], [52.3529, 4.9415], [51.2993, 9.491], [51.2993, 9.491], [30.1438, -81.5401], [55.7386, 37.6068], [39.9289, 116.3883], [-12.0433, -77.0283], [35.69, 139.69], [22.4333, 114.0333], [35.685, 139.7514], [38.5333, -8.9], [48.8582, 2.3387000000000002], [45.7363, 4.8687000000000005], [40.6236, -111.9871], [44.4891, -88.8868], [37.751, -97.822], [37.2911, 127.0089], [5.6167, -0.0167], [36.6683, 116.9972], [37.5261, 126.9031], [52.2394, 21.0362], [-20.8762, -48.3148], [-23.5733, -46.6417], [51.2993, 9.491], [53.3472, -6.2439], [52.3824, 4.8995], [58.6667, 17.1], [21.0333, 105.85], [10.95, 106.8167], [39.8331, -86.1747], [37.5985, 126.9783], [36.6776, 126.8427], [10.8142, 106.6438], [37.5985, 126.9783], [26.5167, 88.7333], [32.0617, 118.7778], [-22.8305, -43.2192], [52.2394, 21.0362], [52.2394, 21.0362], [53.3472, -6.2439], [39.9289, 116.3883], [28.1792, 113.1136], [39.9289, 116.3883]],
				"count":[['283'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['279'], ['277'], ['275'], ['269'], ['257'], ['247'], ['202'], ['154'], ['124'], ['90'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['62'], ['53'], ['46'], ['43'], ['43'], ['43'], ['40'], ['39'], ['39'], ['36'], ['36'], ['34'], ['34'], ['34'], ['32'], ['29'], ['29'], ['29'], ['29'], ['28'], ['21'], ['20'], ['19'], ['15'], ['12'], ['11'], ['11'], ['11'], ['11'], ['11'], ['11'], ['9'], ['8'], ['8'], ['7'], ['7'], ['7'], ['7'], ['7'], ['6'], ['6'], ['5'], ['4'], ['4'], ['3'], ['3'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1']]},
				{"pos":[[-34.6033, -58.3817], [21.0333, 105.85], [44.0633, 12.5808], [9.9833, 76.2833], [20.0, 77.0], [21.0333, 105.85], [23.7701, 90.3628], [15.8858, 108.2569], [10.7725, 76.6514], [21.0333, 105.85], [-34.6033, -58.3816], [21.0333, 105.85], [21.0333, 105.85], [16.9333, 82.2167], [20.0, 77.0], [33.5928, -7.6192], [-6.2349, 106.9896], [41.0, 64.0], [7.0167, 100.6619], [47.8, 22.8833], [3.1698, 101.706], [53.9, 27.5667], [24.6537, 46.7152], [15.0, 30.0], [20.0, 77.0], [42.9394, -78.8438], [41.1737, -73.1365], [40.0266, -75.3333], [39.4914, -119.8435], [32.3816, -86.2813], [33.7009, -97.1629], [20.0, 77.0], [40.959, -74.1562], [30.7343, 76.7933], [42.8864, -78.8781], [45.4667, 9.2], [48.8582, 2.3387000000000002], [37.751, -97.822], [41.0, 20.0], [31.0456, 121.3997], [43.7334, -79.3329], [37.419200000000004, -122.0574], [52.3529, 4.9415], [51.5142, -0.0931], [55.7386, 37.6068], [40.8326, -74.1307], [47.9877, 39.9398], [16.0678, 108.2208], [37.3387, -121.8914], [48.8582, 2.3387000000000002], [37.751, -97.822], [10.8142, 106.6438], [39.7157, -75.5281], [40.7904, -74.0246], [29.5822, -95.7608], [42.2318, -71.3744], [43.3445, 5.38], [47.1667, 27.6], [43.6109, 3.8772], [48.7649, 1.9292], [48.6957, 2.1873], [43.6319, -79.3716], [23.0333, 72.6167], [56.8833, 14.8167], [-12.5, 18.5], [49.5937, 34.5407], [52.1667, 5.2812], [35.685, 139.7514], [30.0355, 31.223], [30.0771, 31.2859], [52.2394, 21.0362], [48.6667, 10.8667], [-20.636, -48.1889], [-23.5733, -46.6417], [48.1134, 11.6466], [50.45, 30.5233], [17.3753, 78.4744], [50.6667, 3.0833], [21.0333, 105.85], [42.0166, -71.2231], [33.69, 73.0551], [10.8142, 106.6438], [16.0678, 108.2208], [28.4604, 119.9103], [33.6119, -111.8906], [-22.8305, -43.2192], [-22.8305, -43.2192], [52.2394, 21.0362], [52.2394, 21.0362], [52.2394, 21.0362], [52.2394, 21.0362], [-33.45, -70.6667], [53.3472, -6.2439], [10.95, 106.8167], [50.1153, 8.6823], [10.8142, 106.6438], [10.8142, 106.6438], [10.8142, 106.6438], [34.7725, 113.7266]],
			"count":[['1541'], ['1541'], ['280'], ['280'], ['280'], ['280'], ['280'], ['279'], ['279'], ['279'], ['278'], ['278'], ['278'], ['277'], ['274'], ['272'], ['270'], ['269'], ['261'], ['258'], ['247'], ['244'], ['100'], ['99'], ['86'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['70'], ['60'], ['58'], ['56'], ['55'], ['35'], ['28'], ['28'], ['18'], ['16'], ['16'], ['12'], ['11'], ['9'], ['9'], ['8'], ['6'], ['6'], ['6'], ['6'], ['5'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1']]},
				{"pos":[[50.1153, 8.6823], [13.7594, 100.4889], [-6.1744, 106.8294], [23.0333, 72.6167], [-6.1744, 106.8294], [-8.5833, 116.1167], [21.0333, 105.85], [21.0333, 105.85], [21.0333, 105.85], [14.6492, 120.9826], [12.9833, 77.5833], [21.0333, 105.85], [24.9056, 67.0822], [-6.175, 106.8286], [24.6537, 46.7152], [35.6961, 51.4231], [33.5007, -111.9829], [21.15, 79.1], [32.6888, -114.6657], [38.9223, -84.7509], [45.5774, -122.6208], [47.2481, -122.4726], [33.6141, -101.9574], [34.0202, -118.3928], [48.8628, 2.3292], [29.165399999999998, -82.0967], [41.3882, -82.3754], [17.3753, 78.4744], [25.0478, 121.5318], [34.1906, -118.7637], [40.7225, -73.5568], [42.2694, -85.5602], [42.8864, -78.8781], [36.2535, -78.8985], [-34.6033, -58.3817], [48.8628, 2.3292], [43.6572, -79.3783], [60.1756, 24.9342], [41.6291, -93.6658], [45.5377, -122.6006], [37.751, -97.822], [47.6381, -122.3715], [37.751, -97.822], [39.1618, -95.9626], [35.1638, -78.6357], [44.6929, -111.2135], [45.7661, -108.5789], [41.6327, -93.7374], [40.4939, -104.9965], [37.751, -97.822], [41.6727, -93.5722], [44.7467, -93.5004], [26.2968, -81.7896], [45.446, -122.882], [41.4308, -82.2337], [41.2349, -96.049], [40.7518, -87.0148], [33.2859, -97.5127], [31.0043, -97.7543], [37.751, -97.822], [44.9128, -93.3133], [38.8936, -104.7352], [39.7313, -104.9692], [47.576, -122.3995], [26.636, -81.5958], [26.3711, -81.7733], [26.7144, -81.8434], [37.751, -97.822], [40.4895, -82.5601], [37.751, -97.822], [34.2475, -82.147], [32.3099, -80.9211], [26.6254, -81.6248], [26.5745, -81.9438], [37.751, -97.822], [30.5795, -84.2055], [39.7936, -77.598], [30.3994, -84.1725], [35.0246, -78.9968], [32.2888, -98.1948], [37.751, -97.822], [42.4624, -122.664], [46.3067, -94.1008], [38.0774, -105.4599], [32.9342, -97.2515], [33.6135, -112.2334], [40.517, -74.868], [45.0159, -93.4719], [37.751, -97.822], [43.353, -83.0142], [34.9461, -92.0858], [41.0504, -112.061], [48.8582, 2.3387000000000002], [47.0188, 28.8128], [52.3529, 4.9415], [52.3529, 4.9415], [48.8582, 2.3387000000000002], [37.751, -97.822], [10.9867, 106.655], [52.2394, 21.0362], [21.0333, 105.85], [47.0188, 28.8128], [36.175, -115.1372], [48.8763, 2.3183], [37.2803, -121.9567], [10.8142, 106.6438], [21.0333, 105.85], [46.1333, 14.4333], [47.6026, -122.3284], [16.0678, 108.2208], [39.9289, 116.3883], [41.1144, -112.0592], [37.751, -97.822], [16.0678, 108.2208], [51.0519, 21.0883], [53.7667, -2.35], [51.2993, 9.491], [57.048, 9.9187], [52.0357, 5.1536], [48.8915, 2.4645], [60.0701, 10.8644], [48.8582, 2.3387000000000002], [48.8582, 2.3387000000000002], [52.1984, 8.5864], [34.0396, -81.8075], [43.1479, 12.1097], [47.2364, 39.7139], [47.3667, 8.55], [52.2394, 21.0362], [-33.45, -70.6667], [-34.1708, -70.7444], [37.5985, 126.9783], [17.3753, 78.4744], [53.9, 27.5667], [52.4054, 30.7591], [50.2302, 8.7716], [58.753, 17.0079], [10.1282, 106.159], [-4.7778, -48.065], [12.9833, 77.5833], [22.9908, 120.2133], [35.3231, 139.3422], [37.5985, 126.9783], [-22.8305, -43.2192], [52.2394, 21.0362], [53.3472, -6.2439], [36.6683, 116.9972]],
			"count":[['670'], ['281'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['279'], ['273'], ['269'], ['216'], ['151'], ['100'], ['100'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['60'], ['56'], ['55'], ['36'], ['34'], ['33'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['22'], ['18'], ['17'], ['16'], ['15'], ['14'], ['11'], ['8'], ['6'], ['6'], ['5'], ['5'], ['5'], ['5'], ['5'], ['5'], ['4'], ['4'], ['4'], ['4'], ['3'], ['3'], ['3'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['1'], ['1'], ['1'], ['1']]},
				{"pos":[[51.8069, 4.6838999999999995], [-6.175, 106.8286], [13.75, 100.4667], [-23.5733, -46.6417], [21.0333, 105.85], [14.2617, 99.4036], [18.5333, 73.8667], [21.0333, 105.85], [10.8142, 106.6438], [21.0333, 105.85], [-6.2349, 106.9896], [10.8142, 106.6438], [23.7552, 90.3731], [18.2923, 99.4928], [31.4888, 74.3686], [10.8142, 106.6438], [16.7833, 96.1667], [23.2667, 77.4], [42.8864, -78.8781], [21.0333, 105.85], [14.5732, 121.0697], [16.4667, 107.6], [50.1153, 8.6823], [14.5732, 121.0697], [47.0188, 28.8128], [28.312, -81.589], [48.1667, 14.0333], [50.711, 7.0489], [48.928, 2.3963], [32.3617, -86.1336], [44.3906, -88.031], [47.7294, -116.7567], [47.3707, -120.3593], [51.9599, 4.4906], [41.0965, -74.0093], [46.4431, -81.127], [40.496, -84.2947], [33.7361, -117.0583], [42.018, -97.4543], [37.5112, 126.97409999999999], [42.2694, -85.5602], [50.1153, 8.6823], [45.4667, 9.2], [20.0, 77.0], [42.8864, -78.8781], [52.3529, 4.9415], [33.7633, -117.7942], [50.1153, 8.6823], [50.1153, 8.6823], [50.1153, 8.6823], [34.0408, -84.1665], [50.1153, 8.6823], [40.8106, 111.6522], [36.169, -94.4564], [36.0097, -115.1479], [30.4172, -93.3907], [31.8452, -92.0248], [38.7732, -90.9348], [30.2802, -87.5918], [41.5798, -90.625], [41.6482, -91.5713], [38.9142, -104.7749], [41.166, -80.0615], [33.5076, -112.0583], [44.9355, -93.2505], [42.8369, -96.9833], [47.7877, -117.4555], [37.751, -97.822], [37.751, -97.822], [37.751, -97.822], [37.751, -97.822], [38.7314, -94.8282], [36.8243, -81.5681], [36.3198, -82.3202], [32.1601, -96.0907], [45.5533, -122.5597], [37.751, -97.822], [37.751, -97.822], [45.7661, -108.5789], [45.7661, -108.5789], [43.632, -116.2838], [43.6008, -116.6103], [47.4061, -121.9953], [47.2239, -122.446], [44.069, -123.0825], [44.6364, -123.0065], [44.069, -123.0825], [44.069, -123.0825], [44.0486, -123.2197], [41.6727, -93.5722], [42.3393, -122.7987], [41.6727, -93.5722], [44.0486, -123.2197], [41.1767, -95.9956], [41.1767, -95.9956], [40.6576, -111.884], [41.1529, -112.1408], [43.711, -116.2516], [39.8418, -77.2291], [36.2535, -78.8985], [36.3734, -78.1039], [35.9948, -78.4405], [36.175, -115.1372], [35.0845, -106.6511], [48.5448, -114.3473], [47.6172, -117.7048], [27.7372, -81.7555], [39.849, -78.0494], [40.5767, -84.1399], [36.175, -115.1372], [36.2212, -115.1685], [36.1041, -115.0242], [36.1041, -115.0242], [37.751, -97.822], [41.3774, -104.7639], [41.2993, -96.1666], [45.6145, -121.8474], [45.5886, -122.7064], [26.2888, -81.53], [36.1113, -115.2791], [36.1113, -115.2791], [36.175, -115.1372], [36.175, -115.1372], [36.175, -115.1372], [37.751, -97.822], [37.751, -97.822], [37.751, -97.822], [40.7518, -87.0148], [36.175, -115.1372], [32.2888, -98.1948], [31.4397, -97.7853], [31.2002, -97.9921], [32.1097, -95.3386], [37.751, -97.822], [37.751, -97.822], [45.0101, -93.1519], [45.0101, -93.1519], [44.9355, -93.2505], [44.9355, -93.2505], [44.9355, -93.2505], [30.1755, -84.3386], [40.6097, -111.9391], [41.0713, -111.9874], [40.65, -112.015], [38.9048, -104.7017], [37.751, -97.822], [40.2903, -111.7236], [37.751, -97.822], [40.4774, -112.0082], [40.4774, -112.0082], [40.4774, -112.0082], [40.5141, -112.033], [47.6606, -122.2919], [47.6738, -122.3419], [37.751, -97.822], [47.6738, -122.3419], [37.751, -97.822], [45.6511, -111.1777], [26.6963, -81.9429], [26.6254, -81.6248], [26.6963, -81.9429], [37.751, -97.822], [37.751, -97.822], [26.6292, -81.9432], [26.1873, -81.7113], [26.6229, -81.7129], [26.9055, -82.034], [37.751, -97.822], [28.7346, -81.4114], [28.4768, -81.6319], [28.4768, -81.6319], [28.4768, -81.6319], [28.9235, -81.9185], [37.751, -97.822], [37.751, -97.822], [37.751, -97.822], [40.5722, -84.3813], [40.0837, -84.6388], [40.1616, -82.6541], [40.5152, -83.921], [40.5152, -83.921], [40.5561, -82.7593], [40.8077, -81.973], [40.8769, -84.5869], [37.751, -97.822], [37.751, -97.822], [47.6573, -111.3805], [37.751, -97.822], [37.751, -97.822], [44.8362, -93.2232], [37.751, -97.822], [37.751, -97.822], [37.751, -97.822], [37.751, -97.822], [33.5092, -112.1009], [33.5092, -112.1009], [33.3462, -111.8153], [32.8736, -81.0944], [26.6254, -81.6248], [26.6254, -81.6248], [26.5745, -81.9438], [26.6229, -81.7129], [26.6254, -81.6248], [26.6988, -81.908], [37.2177, -79.921], [36.429, -77.7247], [45.4662, -123.71], [42.4624, -122.664], [40.6097, -111.9391], [37.3363, -108.7271], [39.0437, -92.2714], [43.8558, -88.9875], [36.6696, -93.2615], [46.8914, -96.9294], [46.8543, -96.8284], [44.9358, -93.1631], [44.9994, -93.297], [39.7055, -104.9664], [39.6762, -104.887], [42.4624, -122.664], [37.751, -97.822], [43.5954, -96.7017], [34.9874, -79.232], [34.9874, -79.232], [36.9141, -81.7788], [30.4766, -83.4451], [39.7936, -77.598], [30.4721, -83.7758], [30.4766, -83.4451], [35.0845, -106.6511], [39.0437, -92.2714], [44.9374, -93.2219], [45.0203, -93.245], [47.3101, -122.2042], [42.2206, -91.2282], [43.7135, -116.1853], [46.8543, -96.8284], [40.0153, -105.1076], [35.3874, -78.8686], [35.2543, -79.5365], [37.9539, -78.3584], [45.3497, -92.5911], [40.5494, -89.6252], [33.9521, -112.0789], [33.4484, -112.074], [37.751, -97.822], [41.1131, -74.5916], [37.751, -97.822], [41.0667, -74.8128], [42.3794, -123.3983], [45.5886, -122.7064], [43.7406, -122.4175], [35.2268, -78.9562], [41.6327, -93.7374], [44.6251, -123.1309], [44.9729, -93.2873], [32.5462, -110.952], [42.3393, -122.7987], [39.677, -104.9647], [35.2467, -106.7232], [43.632, -116.2838], [47.1278, -122.2534], [47.4061, -121.9953], [47.3824, -122.3138], [47.6606, -122.2919], [47.6102, -122.3043], [41.5798, -90.625], [42.0743, -94.88], [37.751, -97.822], [37.751, -97.822], [42.4199, -114.5915], [36.9784, -93.2332], [38.7976, -90.7857], [38.1155, -91.4184], [30.4187, -92.2199], [47.4473, -122.4599], [45.2274, -91.0436], [45.0729, -92.0085], [36.9787, -93.0829], [43.632, -116.2838], [43.632, -116.2838], [32.5979, -92.0235], [32.5979, -92.0235], [32.5979, -92.0235], [44.9464, -93.0515], [21.0333, 105.85], [41.538, -90.5531], [37.5112, 126.97409999999999], [37.3387, -121.8914], [29.9668, -95.3454], [40.517, -74.868], [41.5798, -90.625], [10.6833, 105.1667], [26.6988, -81.908], [37.8449, -122.2376], [35.9488, -78.1001], [35.6022, -78.8786], [43.182, -84.1315], [47.0188, 28.8128], [37.751, -97.822], [36.175, -115.1372], [47.6854, -122.2872], [21.0333, 105.85], [52.3529, 4.9415], [36.3316, -92.4103], [42.24, -87.8717], [32.5686, -96.2676], [36.175, -115.1372], [33.748, -84.3858], [57.7167, 11.9667], [21.0333, 105.85], [37.751, -97.822], [55.0038, 50.0549], [48.1212, -1.603], [46.9978, 5.7051], [40.1456, 26.4064], [48.8582, 2.3387000000000002], [48.8582, 2.3387000000000002], [39.6237, -3.3381], [51.6409, -2.6768], [40.4761, 17.2297], [37.751, -97.822], [35.7362, -80.1931], [29.9822, -95.1776], [40.5902, -75.3547], [22.2833, 114.15], [55.7522, 37.6156], [59.4339, 24.7281], [37.5112, 126.97409999999999], [-23.5733, -46.6417], [-23.5733, -46.6417], [48.8582, 2.3387000000000002], [17.7342, -64.7347], [-33.9166, 18.4166], [59.3247, 18.056], [44.6251, -123.1309], [21.0333, 105.85], [22.6163, 120.3133], [35.1028, 129.0403], [10.8142, 106.6438], [37.5112, 126.97409999999999], [55.7386, 37.6068], [33.7633, -117.7942], [-22.8305, -43.2192], [-22.8305, -43.2192], [52.2394, 21.0362], [52.2394, 21.0362], [52.3529, 4.9415]],
				"count":[['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['280'], ['279'], ['279'], ['279'], ['263'], ['252'], ['244'], ['224'], ['214'], ['180'], ['160'], ['143'], ['140'], ['136'], ['133'], ['115'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['68'], ['58'], ['57'], ['40'], ['37'], ['34'], ['34'], ['34'], ['34'], ['34'], ['33'], ['32'], ['30'], ['29'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['27'], ['26'], ['23'], ['22'], ['22'], ['18'], ['17'], ['17'], ['14'], ['12'], ['11'], ['11'], ['10'], ['10'], ['9'], ['8'], ['8'], ['7'], ['7'], ['7'], ['6'], ['6'], ['5'], ['5'], ['5'], ['4'], ['3'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1'], ['1']]},
				{"pos":[[55.7522, 37.6156], [41.0186, 28.9647], [13.7594, 100.4889], [33.5928, -7.6192], [28.6667, 77.2167], [26.9167, 75.8167], [47.9167, 106.9167], [15.5, 80.05], [-6.2349, 106.9896], [-3.3333, 114.5833], [44.5326, -72.047], [30.1689, -92.0599], [22.2833, 114.15], [38.5647, -90.5357], [37.751, -97.822], [34.0964, -117.9668], [35.3621, -82.5082], [32.0617, 118.7778], [38.6667, -121.6293], [42.8864, -78.8781], [33.7009, -97.1629], [39.9289, 116.3883], [36.2212, -115.1685], [31.2002, -97.9921], [41.649, -93.6275], [41.6727, -93.5722], [40.1808, -77.2139], [36.0755, -79.0741], [36.0755, -79.0741], [40.2015, -77.1889], [44.8547, -93.7854], [28.9995, -81.8995], [43.634, -116.3242], [36.1113, -115.2791], [35.3275, -106.7177], [31.0291, -97.8535], [30.5795, -84.2055], [30.4563, -84.354], [47.6344, -122.3422], [26.636, -81.5958], [26.6983, -82.0271], [26.6229, -81.7129], [29.2461, -81.8653], [37.751, -97.822], [33.0581, -112.0476], [26.1873, -81.7113], [26.6229, -81.7129], [26.9856, -82.091], [35.5446, -78.8309], [45.0159, -93.4719], [43.5954, -96.7017], [36.1864, -82.0933], [36.3022, -82.4825], [42.0604, -91.5858], [42.0604, -91.5858], [44.9729, -93.2873], [32.5462, -110.952], [41.7248, -93.6017], [33.3062, -111.8413], [37.751, -97.822], [38.79, -90.8549], [41.4457, -82.1805], [45.0729, -92.0085], [43.182, -84.1315], [42.8864, -78.8781], [36.1979, -76.3511], [48.8582, 2.3387000000000002], [37.3387, -121.8914], [37.8449, -122.2376], [21.0333, 105.85], [39.9289, 116.3883], [36.175, -115.1372], [50.6942, 3.1746], [37.3387, -121.8914], [51.9303, 4.4597999999999995], [56.5548, -2.6507], [37.2911, 127.0089], [48.8582, 2.3387000000000002], [37.1027, -121.6001], [48.8582, 2.3387000000000002], [28.55, 115.9333], [38.8817, -92.402], [-20.636, -48.1889], [45.45, 11.0], [31.78, 35.23], [33.7041, -117.6724], [48.8582, 2.3387000000000002], [-22.8305, -43.2192], [40.1144, -88.2813]],
				"count":[['280'], ['280'], ['280'], ['280'], ['280'], ['279'], ['251'], ['233'], ['227'], ['139'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['75'], ['60'], ['55'], ['34'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['28'], ['20'], ['15'], ['15'], ['14'], ['11'], ['10'], ['9'], ['8'], ['6'], ['5'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['2'], ['1'], ['1'], ['1'], ['1']]}
				]
				
		if op == 'get_pos':
			# ここにデータを入れる
			js=table[date]

		self.send_response(200)
		self.send_header('Content-type', 'application/json')
		self.end_headers()
		self.wfile.write(json.dumps(js).encode('utf-8'))

def main():
	server = HTTPServer(('localhost', 8000), MyHandler)
	server.serve_forever()

if __name__ == '__main__':
	main()
